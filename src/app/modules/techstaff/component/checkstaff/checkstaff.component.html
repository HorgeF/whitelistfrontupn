


<div class="modal-content">
<!-- {{ListadoStaffVerificar |json}} -->
<!-- {{TypeaheadNumDoc |json}} -->
    <div class="modal-header pb-0 border-0 justify-content-end">
        <div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal" (click)="CerrarModalCheck()">
            <span class="svg-icon svg-icon-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black"></rect>
                    <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black"></rect>
                </svg>
            </span>
        </div>
    </div>
    <div class="modal-body scroll-y px-10 px-lg-15 pt-0 pb-15">

        <div class="mb-13 text-center">
            <h1 class="mb-3 text-gray-700">Buscador de técnicos</h1>
        </div>

        <div class="row mt-7 ms-5 me-5" style="border-bottom: inherit;">
            <div class="col-md-2">

            </div>
            <div class="col-md-8">

              <form  (ngSubmit)="VerificarTecnico(seleccionado,1)">

                <div class="input-group d-flex flex-center">
                    <div class="position-relative d-flex align-items-center">
                        <span class="svg-icon svg-icon-2 position-absolute mx-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1" transform="rotate(45 17.0365 15.1223)" fill="black"></rect>
                                <path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z" fill="black"></path>
                            </svg>
                        </span>
                        <input 
                        
                        [(ngModel)]="seleccionado" 
                        [ngbTypeahead]="search"
                        (selectItem)="VerificarTecnico($event,2)" 
                        [ngModelOptions]="{standalone: true}" 
                        [inputFormatter]="formatter"
                        [resultFormatter]="formatter" 
                        
                        class="form-control form-control-solid ps-12 form-control-lg" placeholder="Buscar por documento o nombre del técnico" style=" width: 500px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;">
                        <!-- <pre>Model: {{ seleccionado | json }}</pre> -->
                    </div>
                    <div class="input-group-prepend">
                        <button  type="submit" class="btn btn-lg btn-secondary fw-boldest" style="border-top-left-radius: 0px; border-bottom-left-radius: 0px;">
                            Buscar
                        </button>
                    </div>
                </div>


              </form>





            </div>



            <div class="col-md-2">

            </div>
        </div>
        <div class="pb-5 m-10" *ngIf="ActiveSearch == 0" >
            
            <div class="card-px text-center pt-20 pb-5">
                
                <h2 class="fs-2 fw-bolder mb-0 text-gray-600">Para ubicar técnicos registrados en el sistema</h2>
                
                <p class="text-gray-400 fs-4 fw-bold py-7">Ingrese datos en el buscador y presione ENTER o en el botón BUSCAR.</p>

            </div>
            <div class="text-center px-5">
                <img src="assets/media/illustrations/sigma-1/23.png" alt="" class="mw-100 h-500px h-sm-500px">
            </div>
            
        </div>

        <div class="pb-5 m-10" *ngIf="ActiveSearch == 1" >
            <div class="row mb-10">
                <div class="col-md-12 text-start">
                    <h2 class="fs-2 fw-bolder mb-0 text-gray-700">Información del técnico</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="row">

                        <div class="col-md-4 text-center">

                            <div class="image-input image-input-outline image-input-empty" data-kt-image-input="true" style="background-image: url(assets/media/avatars/150-28.png)">
                                    
                                <div class="image-input-wrapper w-175px h-200px" style="background-image: url(/assets/media/avatars/150-28.png)"></div>
                                
                            </div>
                            <div class="text-center mt-5">
                                <div *ngIf="StaffSelected?.idestado == 1" class="badge badge-light-success px-4 py-3 fs-4">Activo</div>
                                <div *ngIf="StaffSelected?.idestado == 2" class="badge badge-light-danger px-4 py-3 fs-4">Observado</div>
                                <div *ngIf="StaffSelected?.idestado == 3" class="badge badge-light px-4 py-3 fs-4">Cesado</div>
                            </div>

                        </div>
                        <div class="col-md-8">

                            <div class="row g-9 mb-8">
                                <div class="col-md-6 fv-row">
                                    <div class="fw-bold text-gray-600 fs-5">DNI/Cédula</div>
                                    <div class="fw-bolder text-gray-800 fs-3">{{StaffSelected.dni}}</div>
                                </div>

                                <div class="col-md-6 fv-row">
                                    <div class="fw-bold text-gray-600 fs-5">Contrata</div>
                                    <div class="fw-bolder text-gray-800 fs-3">{{StaffSelected.razon_social}}</div>
                                </div>
                            </div>
                            <div class="separator separator-dashed my-6"></div>

                            <div class="row g-9 mb-8">
                                <div class="col-md-12 fv-row">
                                    <div class="fw-bold text-gray-600 fs-5">Nombres y apellidos</div>
                                    <div class="fw-bolder text-gray-800 fs-3">{{StaffSelected.nombre}} {{StaffSelected.apepaterno}} {{StaffSelected.apematerno}}</div>
                                </div>

                            </div>
                            <div class="separator separator-dashed my-6"></div>

                            <div class="row g-9 mb-8">
                                <div class="col-md-6 fv-row">
                                    <div class="fw-bold text-gray-600 fs-5">Fecha de ingreso</div>
                                    <div class="fw-bolder text-gray-800 fs-3">{{StaffSelected.fechaingreso}}</div>
                                </div>

                                <div class="col-md-6 fv-row">
                                    <div class="fw-bold text-gray-600 fs-5">Fecha de cese</div>
                                    <div class="fw-bolder text-gray-800 fs-3">{{StaffSelected.fechacese}}</div>
                                </div>
                            </div>
                            <div class="separator separator-dashed my-6"></div>

                            <div class="row g-9 mb-8">
                                <div class="col-md-12 fv-row">
                                    <div class="fw-bold text-gray-600 fs-5">Región</div>
                                    <div class="fw-bolder text-gray-800 fs-3">Lima, Perú</div>
                                </div>

                            </div>
                            <div class="separator separator-dashed my-6"></div>

                        </div>

                    </div>
                </div>
                <div class="col-md-6">

                    <div class="scroll-y me-n7 pe-7 mt-6" style="max-height: 300px !important;" data-kt-scroll="true" data-kt-scroll-offset="200px">

                        <div class="timeline">

                            <div class="timeline-item" *ngFor = "let obs of ListadoObservacion">
                                
                                <div class="timeline-line w-40px"></div>
                                
                                <div class="timeline-icon symbol symbol-circle symbol-40px me-4">
                                    <div class="symbol-label bg-light">
                                        
                                        <span class="svg-icon svg-icon-2 svg-icon-gray-500">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                <path opacity="0.3" d="M2 4V16C2 16.6 2.4 17 3 17H13L16.6 20.6C17.1 21.1 18 20.8 18 20V17H21C21.6 17 22 16.6 22 16V4C22 3.4 21.6 3 21 3H3C2.4 3 2 3.4 2 4Z" fill="black"></path>
                                                <path d="M18 9H6C5.4 9 5 8.6 5 8C5 7.4 5.4 7 6 7H18C18.6 7 19 7.4 19 8C19 8.6 18.6 9 18 9ZM16 12C16 11.4 15.6 11 15 11H6C5.4 11 5 11.4 5 12C5 12.6 5.4 13 6 13H15C15.6 13 16 12.6 16 12Z" fill="black"></path>
                                            </svg>
                                        </span>
                                        
                                    </div>
                                </div>

                                <div class="timeline-content mb-10 mt-n1" *ngIf="ListadoObservacion.length > 0">
                                    
                                    <div class="pe-3 mb-5">
                                        
                                        <div class="fs-5 fw-bold mb-2"><a href="#" class="text-primary fw-bolder me-1">ADMIN</a> Observó al técnico.</div>
                                        
                                        <div class="d-flex align-items-center mt-1 fs-6">
                                            
                                            <div class="text-muted me-2 fs-7">{{obs.observacion}}</div>
                                            
                                        </div>
                                        
                                    </div>
    
                                    <div>
                                        <p>
                                            {{obs.observacion}}
                                        </p>
                                    </div>
                                                                                              
                                </div>

                            </div>
                            
                            
                        </div>

                    </div>
                    
                </div>
            </div>
            
        </div>

    </div>

</div>